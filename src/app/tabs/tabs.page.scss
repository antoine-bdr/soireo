// ========================================
// ðŸŽˆ FAB (Floating Action Button) - VERSION FINALE (ROND)
// ========================================
ion-fab {
  margin-bottom: 70px;
  margin-right: 16px;
  
  ion-fab-button {
    // âœ… FORCER LE GRADIENT OPAQUE (pas de transparence)
    --background: linear-gradient(135deg, #FF2D55 0%, #FF6B9D 100%);
    --background-activated: linear-gradient(135deg, #e0284b 0%, #e05f8a 100%);
    --background-focused: linear-gradient(135deg, #FF2D55 0%, #FF6B9D 100%);
    --background-hover: linear-gradient(135deg, #ff4266 0%, #ff7faa 100%);
    
    // âœ… DÃ‰SACTIVER TOUTES LES BORDURES IONIC
    --border-width: 0;
    --border-style: none;
    --border-color: transparent;
    
    // ðŸ”´ CRITICAL: FORCER LE BORDER-RADIUS Ã€ 50% (ROND)
    --border-radius: 50%;
    border-radius: 50% !important;
    
    // âœ… DÃ‰SACTIVER LE RIPPLE EFFECT
    --ripple-color: transparent;
    --ion-ripple-color: transparent;
    
    // âœ… FORCER LA COULEUR D'ARRIÃˆRE-PLAN
    --color: #FFFFFF;
    
    // âœ… OMBRES PERSONNALISÃ‰ES
    --box-shadow: 0 8px 24px rgba(255, 45, 85, 0.4),
                  0 4px 12px rgba(255, 107, 157, 0.3);
    
    // âœ… DIMENSIONS
    width: 56px;
    height: 56px;
    
    // âœ… FORCER LES STYLES EN CSS DIRECT (override complet)
    border: none !important;
    outline: none !important;
    background: linear-gradient(135deg, #FF2D55 0%, #FF6B9D 100%) !important;
    box-shadow: 0 8px 24px rgba(255, 45, 85, 0.4),
                0 4px 12px rgba(255, 107, 157, 0.3) !important;
    
    // ðŸ”´ CRITICAL: FORCER overflow:hidden pour que le gradient respecte le border-radius
    overflow: hidden !important;
    
    // âœ… SUPPRIMER LES PSEUDO-Ã‰LÃ‰MENTS
    &::before,
    &::after {
      display: none !important;
    }
    
    // ðŸ”´ CRITICAL: CIBLER LE SHADOW ROOT ET FORCER LE BORDER-RADIUS
    &::part(native) {
      border: none !important;
      outline: none !important;
      background: linear-gradient(135deg, #FF2D55 0%, #FF6B9D 100%) !important;
      box-shadow: none !important;
      border-radius: 50% !important; // ðŸ”´ LIGNE CRITIQUE
      overflow: hidden !important;   // ðŸ”´ LIGNE CRITIQUE
      
      // S'assurer que l'Ã©lÃ©ment natif prend toute la place
      width: 100% !important;
      height: 100% !important;
    }
    
    // âœ… ICÃ”NE BLANCHE BIEN VISIBLE
    ion-icon {
      font-size: 28px;
      color: #FFFFFF !important;
      --ionicon-stroke-width: 48px;
    }
    
    // ========================================
    // ðŸŽ­ Ã‰TATS INTERACTIFS
    // ========================================
    
    // Hover (desktop)
    &:hover {
      --background: linear-gradient(135deg, #ff4266 0%, #ff7faa 100%);
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 12px 32px rgba(255, 45, 85, 0.5),
                  0 6px 16px rgba(255, 107, 157, 0.4) !important;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      
      // Maintenir le border-radius en hover
      border-radius: 50% !important;
    }
    
    // Active/Press
    &:active {
      transform: scale(0.92);
      transition: transform 0.1s ease;
      --background: linear-gradient(135deg, #e0284b 0%, #e05f8a 100%);
      
      // Maintenir le border-radius au clic
      border-radius: 50% !important;
    }
    
    // Focus (accessibilitÃ© clavier)
    &:focus-visible {
      outline: 2px solid #FFFFFF !important;
      outline-offset: 4px;
      border-radius: 50% !important;
    }
    
    // ========================================
    // ðŸŒŸ ANIMATION PULSE
    // ========================================
    animation: fabPulse 3s ease-in-out infinite;
  }
}

// Animation pulse pour attirer l'attention
@keyframes fabPulse {
  0%, 100% {
    box-shadow: 
      0 8px 24px rgba(255, 45, 85, 0.4),
      0 4px 12px rgba(255, 107, 157, 0.3);
  }
  50% {
    box-shadow: 
      0 8px 24px rgba(255, 45, 85, 0.5),
      0 4px 12px rgba(255, 107, 157, 0.4);
  }
}

// ========================================
// ðŸ“± RESPONSIVE - Petits Ã©crans
// ========================================
@media (max-width: 360px) {
  ion-fab {
    margin-bottom: 66px;
    margin-right: 12px;
    
    ion-fab-button {
      width: 52px;
      height: 52px;
      border-radius: 50% !important; // ðŸ”´ MAINTENIR LE ROND SUR MOBILE
      
      ion-icon {
        font-size: 26px;
      }
    }
  }
}

// ========================================
// ðŸŒž MODE CLAIR (si activÃ©)
// ========================================
@media (prefers-color-scheme: light) {
  ion-fab ion-fab-button {
    box-shadow: 0 8px 24px rgba(255, 45, 85, 0.3),
                0 4px 12px rgba(255, 107, 157, 0.2) !important;
    
    &:hover {
      box-shadow: 0 12px 32px rgba(255, 45, 85, 0.4),
                  0 6px 16px rgba(255, 107, 157, 0.3) !important;
    }
  }
}