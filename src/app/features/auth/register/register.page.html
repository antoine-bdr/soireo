<!-- ========================================
     üéä REGISTER PAGE - PREMIUM DARK GLASSMORPHISM
     Design coh√©rent avec la page login
     ======================================== -->

     <ion-content [fullscreen]="true">
  
      <!-- ========================================
           CONTAINER PRINCIPAL
           ======================================== -->
      <div class="register-container">
    
        <!-- ========================================
             HERO SECTION - Logo & Titre
             ======================================== -->
        <div class="hero-section">
          <div class="logo-wrapper">
            <div class="logo-circle">
              <ion-icon name="person-add"></ion-icon>
            </div>
          </div>
          
          <h1 class="app-title">Party Events</h1>
          <p class="app-subtitle">Rejoins la communaut√© et d√©couvre des soir√©es incroyables</p>
        </div>
    
        <!-- ========================================
             FORMULAIRE D'INSCRIPTION
             ======================================== -->
        <div class="register-card glassmorphism">
          
          <h2 class="card-title">Cr√©er un compte</h2>
    
          <!-- Formulaire -->
          <form [formGroup]="registerForm" (ngSubmit)="register()">
            
            <!-- Nom d'affichage -->
            <ion-item lines="none" class="custom-item">
              <ion-icon name="person-outline" slot="start"></ion-icon>
              <ion-label position="stacked">Nom d'affichage</ion-label>
              <ion-input 
                type="text" 
                formControlName="displayName"
                placeholder="Ton pr√©nom ou pseudo"
                autocomplete="name">
              </ion-input>
            </ion-item>
            
            <!-- Messages d'erreur Nom -->
            <div class="error-message" *ngIf="displayName?.invalid && displayName?.touched">
              <ion-text color="danger" *ngIf="displayName?.errors?.['required']">
                <small>Le nom est requis</small>
              </ion-text>
              <ion-text color="danger" *ngIf="displayName?.errors?.['minlength']">
                <small>Minimum 2 caract√®res</small>
              </ion-text>
              <ion-text color="danger" *ngIf="displayName?.errors?.['maxlength']">
                <small>Maximum 50 caract√®res</small>
              </ion-text>
            </div>
    
            <!-- Email -->
            <ion-item lines="none" class="custom-item">
              <ion-icon name="mail-outline" slot="start"></ion-icon>
              <ion-label position="stacked">Email</ion-label>
              <ion-input 
                type="email" 
                formControlName="email"
                placeholder="exemple@email.com"
                autocomplete="email">
              </ion-input>
            </ion-item>
            
            <!-- Messages d'erreur Email -->
            <div class="error-message" *ngIf="email?.invalid && email?.touched">
              <ion-text color="danger" *ngIf="email?.errors?.['required']">
                <small>L'email est requis</small>
              </ion-text>
              <ion-text color="danger" *ngIf="email?.errors?.['email']">
                <small>Format d'email invalide</small>
              </ion-text>
            </div>
    
            <!-- Mot de passe -->
            <ion-item lines="none" class="custom-item">
              <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
              <ion-label position="stacked">Mot de passe</ion-label>
              <ion-input 
                type="password" 
                formControlName="password"
                placeholder="Minimum 6 caract√®res"
                autocomplete="new-password">
              </ion-input>
            </ion-item>
            
            <!-- Messages d'erreur Password -->
            <div class="error-message" *ngIf="password?.invalid && password?.touched">
              <ion-text color="danger" *ngIf="password?.errors?.['required']">
                <small>Le mot de passe est requis</small>
              </ion-text>
              <ion-text color="danger" *ngIf="password?.errors?.['minlength']">
                <small>Minimum 6 caract√®res requis</small>
              </ion-text>
            </div>
    
            <!-- Confirmation mot de passe -->
            <ion-item lines="none" class="custom-item">
              <ion-icon name="checkmark-circle-outline" slot="start"></ion-icon>
              <ion-label position="stacked">Confirmer le mot de passe</ion-label>
              <ion-input 
                type="password" 
                formControlName="confirmPassword"
                placeholder="Retape ton mot de passe"
                autocomplete="new-password">
              </ion-input>
            </ion-item>
            
            <!-- Messages d'erreur Confirmation -->
            <div class="error-message" *ngIf="confirmPassword?.invalid && confirmPassword?.touched">
              <ion-text color="danger" *ngIf="confirmPassword?.errors?.['required']">
                <small>La confirmation est requise</small>
              </ion-text>
              <ion-text color="danger" *ngIf="confirmPassword?.errors?.['passwordMismatch']">
                <small>Les mots de passe ne correspondent pas</small>
              </ion-text>
            </div>
    
            <!-- Bouton Inscription -->
            <ion-button 
              expand="block" 
              type="submit" 
              class="register-button"
              [disabled]="registerForm.invalid || isLoading">
              <ion-spinner name="crescent" slot="start" *ngIf="isLoading"></ion-spinner>
              <ion-icon name="checkmark-circle-outline" slot="start" *ngIf="!isLoading"></ion-icon>
              S'inscrire
            </ion-button>
    
          </form>
    
          <!-- Lien connexion -->
          <div class="login-link">
            <ion-text>
              D√©j√† un compte ? 
              <a routerLink="/login" class="link">Se connecter</a>
            </ion-text>
          </div>
    
        </div>
    
        <!-- ========================================
             FOOTER INFO
             ======================================== -->
        <div class="footer-info">
          <p>En cr√©ant un compte, tu acceptes nos conditions d'utilisation</p>
        </div>
    
      </div>
    
    </ion-content>